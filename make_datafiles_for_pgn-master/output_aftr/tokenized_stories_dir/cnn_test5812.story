Nine militants were killed when police and local residents foiled an attempted kidnapping of the mayor in a village on the outskirts of Peshawar , police told CNN . Taliban fighters attempted to abduct Fahim Ur Rehman , but police and residents resisted and a gun battle ensued .

Along with the slain militants , two police and two civilians were wounded and some of the militants fled . The village , Bazid Khel , is located between Peshawar and the Khyber Agency in the tribal areas .

In the Swat Valley , militants abducted around 30 police Tuesday night but eventually released them on Wednesday . Taliban spokesman Muslim Khan confirmed to CNN that the personnel had been released after returning to the path of Islam and promising not to return to their jobs .

Police told CNN that the security personnel had been forced to agree to the Taliban 's terms and confirmed the release .

There are conflicting details about the incident , in which Taliban forces attacked the Shamozai check post in the Barikot area of Swat Valley on Tuesday night and captured the people after a nightlong firefight .

Khan said the personnel surrendered after Taliban forces mined the area , preventing access . He said their ammunition was seized when supply vehicles coming to assist government forces were stopped by Taliban mines .

This comes as the Pakistani military beefed up its operations this week in the Swat Valley .

The bridge 's destruction had forced authorities to halt traffic .

Because Afghanistan is landlocked , many of the supplies for NATO-led troops fighting Islamic militants there have to be trucked from Pakistan . In recent months , militants aligned with the Taliban and al Qaeda have carried out several attacks to disrupt supplies , Pakistani officials said .

@highlight

NEW : Nine militants die as police , residents foil attempted kidnapping of mayor

@highlight

NEW : Swat Valley : Militants release about 30 police who were abducted Tuesday

@highlight

Attack destroyed nine vehicles near the town Landi Kotal in the Khyber Agency

@highlight

Series of recent attacks have tried to choke supplies into Afghanistan for the U.S.

