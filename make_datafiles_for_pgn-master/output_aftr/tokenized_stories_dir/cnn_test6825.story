Tehran , Iran -LRB- CNN -RRB- -- Britain condemned Iran for allowing protesters to storm its embassy and a separate diplomatic compound in Tehran on Tuesday , warning there will be `` serious consequences '' as a result .

A CNN producer saw protesters -- identified as students in state news outlets -- throwing stones at the embassy 's windows . They scuffled with and overwhelmed police at the embassy gate and around the compound .

Iranian security forces are responsible for guarding the embassy under international law , he said .

By Tuesday evening , the protesters had been cleared from both sites by police , the semi-official Fars news agency reported . Police arrested 12 students as they left the diplomatic compound , called Gholhak Garden , the news agency said .

British diplomats and their families and Iranian families who work for the British Embassy live at Gholak Garden , in northern Tehran . Foreign Secretary William Hague said the `` irresponsible action '' had put the safety of diplomats and their families at risk and caused extensive damage to embassy property .

Iran 's Foreign Ministry expressed its regret for the student protest , `` which turned into an out of control demonstration , '' in a statement on its website . The ministry said it would `` take action through legal channels '' against those who stormed the embassy building .

The Foreign Office said it had asked the Iranian charge d'affaires in London `` to urge the Iranian authorities to act with utmost urgency to ensure the situation is brought under control . ''

It is now advising British nationals in Iran `` to stay indoors , keep a low profile and await further advice . ''

`` There has been an incursion by a significant number of demonstrators into our embassy premises , including vandalism to our property , '' the Foreign Office said earlier . `` We are outraged by this . It is utterly unacceptable and we condemn it . ''

The White House condemned the incident and `` urged Iran to fully respect its international obligations , to condemn the incident , to prosecute the offenders , and to ensure that no further such incidents take place either at the British Embassy or any other mission in Iran . ''

`` Our State Department is in close contact with the British government and we stand ready to support our allies at this difficult time , '' the White House said .

The Russian Foreign Ministry also condemned the protesters ' actions .

Alaedi Boroujerd , the member of Parliament who introduced the measure , was quoted by IRNA as saying the students ' protest was `` the crystallization of their pure inner feelings . ''

The British Foreign Office called the Iranian Parliament 's vote Sunday `` regrettable . ''

`` This unwarranted move will do nothing to help the regime address their growing isolation or international concerns about their nuclear program and human rights record , '' the office said in a written statement . `` If the Iranian government acts on this , we will respond robustly in consultation with our international partners . ''

All British credit and financial institutions were ordered to end their business relationships and transactions with all Iranian banks , their branches and subsidiaries by Monday .

The move came after an International Atomic Energy Agency report highlighted new concerns about `` the possible military dimensions of Iran 's nuclear program , '' the Treasury statement said Monday .

`` The IAEA 's report last week provided further credible and detailed evidence about the possible military dimensions of the Iranian nuclear program , '' Hague said in a statement last Monday . `` Today we have responded resolutely by introducing a set of new sanctions that prohibit all business with Iranian banks . ''

Iran insists its nuclear program is peaceful and has called the U.N. watchdog 's report `` unbalanced '' and `` politically motivated . ''

The British sanctions underline `` the severity of the government 's concerns about Iran 's activities , '' Britain 's chancellor of the exchequer said .

The chancellor 's statement said other `` partner countries '' will make similar announcements about banking sanctions against Iran .

@highlight

Cameron : The embassy incursion was `` outrageous and indefensible ''

@highlight

`` Clearly there will be other , further , and serious consequences , '' Hague says

@highlight

The Iranian students have now left the British Embassy compound , local media say

@highlight

Iran 's Foreign Ministry expresses regret for the embassy incursion

