Brown , 20 , faced charges of assaulting his pop star girlfriend , Rihanna , following a row earlier this year .

Under terms of the agreement , Brown will serve five years of probation and must serve 180 days in jail or the equivalent -- about 1,400 hours -- in `` labor-oriented service , '' said Sandi Gibbons , spokeswoman for the Los Angeles County District Attorney 's office . He must also undergo a year-long domestic-violence counseling class , she said .

Rihanna , whose real name is Robyn Rihanna Fenty , made a brief appearance at the hearing -- after Brown had left the courtroom -- to hear Los Angeles Criminal Court Judge Patricia Schnegg discuss the issuance of a `` stay away '' order requiring him to stay 100 yards from her . Through her attorney , Rihanna had requested that such an order not be issued .

But Schnegg refused that request , saying she would issue such an order but would revise it to 50 yards -- 10 yards if the two are at the same `` industry event '' together .

Schnegg said Brown could apply to have his supervised probation transferred to Virginia , where he maintains his legal residence . He also can complete his community service there , she said , but it would have to meet the court 's standards .

`` I want Mr. Brown treated as any other defendant who comes to this court , '' Schnegg said . She noted , however , that he has no prior criminal record .

Gibbons , of the district attorney 's office , explained that the judge wants Brown to work -- remove graffiti , for instance -- as part of his service .

`` His sentence is not based on what he 's available to do , '' Gibbons said . `` His sentence is what he 's going to do , or he 's going to go to state prison for four years . ''

Dressed in a light plaid suit , Brown answered `` guilty '' when asked his plea by Assistant District Attorney Mary Murray .

Formal sentencing was set for August 5 .

After the hearing , Geragos said of Brown , `` as long as I 've known him in connection with this case , he 's wanted to take responsibility . ''

He said Brown is thankful to those who offered him support and noted that he is `` a kid who 's never been in trouble before '' who wants to `` move past this '' and get out the message that domestic violence is not acceptable .

Brown `` embraces this as an opportunity to get his life back on track and get his career back on track , '' Geragos said , adding that Brown will speak further after his sentencing .

Etra said after the hearing that Rihanna `` was fully prepared to testify and she would have told the truth about what happened that evening . '' He said she did not object to the plea agreement .

`` A verbal argument ensued , '' followed by the physical attack , the statement said . It went on to describe the assault in great detail , saying Brown punched her numerous times and put her in a head lock , restricting her breathing and causing her to start to lose consciousness . He threatened to `` beat the s -- t out of you '' and kill her , according to the statement , and also bit her ear and her fingers .

Eventually , `` Robyn F. began screaming for help and Brown exited the vehicle and walked away . A resident in the neighborhood heard Robyn F. 's plea for help and called 911 , causing a police response . An investigation was conducted and Robyn F. was issued a Domestic Violence Emergency Protective Order . ''

At the end of his statement , the detective said Brown sent a text message nine days later , apologizing .

Brown also issued a public apology for the incident just days after his arrest .

`` Words can not begin to express how sorry and saddened I am over what transpired , '' he said in a statement released by his spokesman . `` I am seeking the counseling of my pastor , my mother and other loved ones and I am committed , with God 's help , to emerging a better person . ''

@highlight

NEW : Singer reaches plea deal over attack on girlfriend

@highlight

Singer will serve five years of probation , do community service

@highlight

Brown pleaded not guilty earlier in connection with assault on Rihanna

@highlight

Brown will undergo domestic violence counseling , judge said

