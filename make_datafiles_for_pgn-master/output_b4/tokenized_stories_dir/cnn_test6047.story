Alexandria , Virginia -LRB- CNN -RRB- -- A Moroccan man charged with plotting a suicide bomb attack on the U.S. Capitol will remain in jail , a federal judge ruled Wednesday .

Amine El Khalifi made a brief appearance in federal court and waived his right to have a preliminary hearing and to contest his detention .

Magistrate Judge John Anderson said there are no conditions under which El Khalifi should be released at this time both because of the seriousness of the charge against him and because the defendant is in the U.S. illegally . Khalifi , wearing a green jail jumpsuit , spoke only to confirm to the judge he had talked with his federal public defender and did not want a preliminary hearing .

El Khalifi was arrested on Friday as the result of an FBI sting operation . According to a criminal complaint , El Khalifi accepted a MAC-10 automatic gun and what he thought was a suicide vest containing explosives . He was quickly taken into custody as he attempted to leave a parking garage wearing the vest and walk to the U.S. Capitol building , said the document .

`` Unbeknownst to El Khalifi , both the weapon and the bomb had been rendered inoperable by law enforcement , '' said the criminal complaint . El Khalifi allegedly told an undercover FBI agent and another man assisting law enforcement that he intended to use the MAC-10 to `` shoot people before detonating the bomb . ''

El Khalifi allegedly thought he was working with al Qaeda but a man referred to in court documents as `` Yusuf '' was an undercover agent . U.S. officials said El Khalifi had been closely monitored since early December and that the public was never in danger . U.S. officials said the suspect was not connected to terrorists and was working alone .

U.S. Attorney Neil MacBride said Friday that El Khalifi `` devised the plot , the targets and the methods on his own . ''

According to the affidavit , El Khalifi changed his mind about what to target and at various points had considered hitting a restaurant , a military installation and a synagogue . He finally decided to try to blow himself up in the United States Capitol , according to the court document , and said `` he would be happy killing 30 people . ''

Threatening letters sent to congressional offices

El Khalifi , age 29 , came to the United States in June 1999 under a B2 visa , which allows visitors for tourism and medical treatment . But U.S. officials said his visa expired later the same year and he has been in the country illegally ever since .

The court document said that in January 2011 a confidential source reported to the FBI that El Khalifi met with people at a residence in Arlington , Virginia , where another individual brought out some weapons , including an AK-47 . `` El Khalifi expressed agreement with a statement by this individual that the ` war on terrorism ' was a ` war on Muslims , ' and said that the group needed to be ready for war , '' according to the affidavit .

A young man who would only give his last name as Mohamed attended Wednesday 's court hearing . Afterward he told reporters that he and El Khalifi often attended prayers at the same mosque . Mohamed said the extent of his relationship with El Khalifi was to exchange greetings with him , but he said El Khalifi stood out for having tattoos and sometimes sporting a Mohawk haircut , and because he sweated so much that he carried a towel around at the mosque .

Mohamed said he believes FBI informants frequent the mosque where he and El Khalifi pray and that the Moroccan man was entrapped by law enforcement . However , he said , El Khalifi `` probably had a willingness to attack Americans . ''

U.S. officials said that El Khalifi was not entrapped . The affidavit prepared by an FBI agent said there are video and audio recordings that were taken during the course of the investigation , but the document does not discuss what is in those recordings .

In an e-mail , El Khalifi 's federal public defender , Kenneth Troccoli , said he would make no immediate comment .

El Khalifi faces a maximum of life in prison if convicted on the charge of attempting to use a weapon of mass destruction to attack the Capitol .

@highlight

Amine El Khalifi made a brief appearance in federal court Wednesday

@highlight

He waived his right to have a preliminary hearing and to contest his detention

@highlight

El Khalifi was arrested Friday as the result of an FBI sting operation

@highlight

He accepted a gun and what he thought was a bomb vest , according to the complaint
