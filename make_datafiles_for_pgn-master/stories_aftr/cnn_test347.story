Cairo (CNN) -- The United States said it was taking measures to protect its citizens worldwide after protesters angry about an online film considered offensive to Islam attacked U.S. diplomatic compounds in Libya and Egypt on Tuesday, killing an American.

In Cairo, several men scaled the walls of the U.S. Embassy and tore down its American flag, according to CNN producer Mohamed Fadel Fahmy, who was on the scene.

"We are heartbroken by this terrible loss," Clinton said. "Our thoughts and prayers are with his family and those who have suffered in this attack."

Libya's General National Congress also condemned the attack, saying it "led to the regrettable injury and death of a number of individuals." Lawmakers said in a statement Tuesday night that they were investigating.

"One such breach of an embassy or consulate's walls or security on any given day would be tremendous news. ... The fact that two of them happened on the same day that is the 9/11 anniversary where Americans are remembering those that we lost, you have to ask yourself, what are American officials trying to understand about this and whether or not these two are related?" she asked.

In Egypt, police and army personnel formed defensive lines around the U.S. Embassy in an effort to prevent demonstrators from advancing, but not before the protesters affixed a black flag atop a ladder in the American compound.

The black flag, which hangs in full view from inside the complex, is adorned with white characters that read, "There is no God but Allah and Mohammed is his messenger," an emblem often used by Islamic radicals.

In a series of disjointed scenes, the film depicts Prophet Mohammed as a child molester, womanizer and ruthless killer.

The movie was made by Sam Bacile, an Israeli-American real-estate developer, according to the Wall Street Journal.

Most of the Muslim world considers depictions of Mohammed to be blasphemous and deeply offensive.

Embassy officials issued a warning to Americans in Egypt, telling them to avoid the demonstrations which "may gather in front of the U.S. Embassy, or Egyptian government buildings such as the People's Assembly and Ministry of Interior."

An embassy phone operator told CNN that the compound had been cleared of diplomatic personnel earlier in the day ahead of the apparent threat, while Egyptian riot police and the army were called in.

"This is an expression of a feeling that is thought to be an insult," said Nizih El Naggary, a spokesman for the Egyptian Foreign Ministry. "But events like this are extremely deplorable. And we have to work to get things under control."

"There are police forces at the demonstrations," El Naggary said. "They should be protecting the embassy and asking people to leave."

"We were surprised to see the big numbers show up, including the soccer Ultra fans," he said. "I just want to say, how would the Americans feel if films insulting leading Christian figures like the pope or historical figures like Abraham Lincoln were produced?"

He added that "the film portrays the prophet in a very ugly manner, alluding to topics like sex, which is not acceptable."

The U.S. Embassy in Cairo announced that it had canceled visa services for Wednesday.

It also said in a statement that it "condemns the continuing efforts by misguided individuals to hurt the religious feelings of Muslims -- as we condemn efforts to offend believers of all religions."

"Respect for religious beliefs is a cornerstone of American democracy," the statement said. "We firmly reject the actions by those who abuse the universal right of free speech to hurt the religious beliefs of others."

The embassy statement set off a political spat back in the United States after the Republican presidential nominee, Mitt Romney, criticized its message and linked it to his opponent for the White House.

He said he was "outraged" by the attacks in Libya and Egypt.

"We are shocked that, at a time when the United States of America is confronting the tragic death of one of our diplomatic officers in Libya, Governor Romney would choose to launch a political attack," Ben LaBolt, an Obama campaign spokesman said in an email.

This summer, Egypt's first Islamist president, Mohamed Morsy, was sworn into power at Tahrir Square, the scene of the nation's revolution in 2011.

Though Tuesday's embassy protests are the first that Morsy has dealt with, Egypt recently produced similar scenarios when protesters attacked the Israeli and Syrian embassies in unrelated episodes.

"All I want for Egypt is security and stability," he said. "And as you can see this isn't it."

The incident occurred on the 11th anniversary of the 9/11 attacks as crowds gathered across the United States in somber remembrance of a day that left nearly 3,000 people dead.

Tuesday's focus on the controversial film also drew comparisons to outcry generated from a 2008 movie produced by an anti-Muslim Dutch lawmaker to portray Islam as a violent religion.

Geert Wilders' film "Fitna," which he released online, featured images of terrorist acts superimposed over verses from the Quran.

Report: Egypt's ex-PM Ahmed Shafik faces arrest, extradition order

U.S. companies eye Egypt for investment

CNN's Ian Lee in Cairo, Jomana Karadsheh, Matt Smith, Brian Walker, Elise Labott, Paul Cruickshank and Tracy Doueiry contributed to this report

@highlight

NEW: The film causing the furor is made by an Israeli-American, the WSJ reports

@highlight

Romney and Obama campaigns argue over response to the violence

@highlight

A State Department officer is killed in Libya, the U.S. says

@highlight

Clinton says the U.S. is working to protect its citizens worldwide

