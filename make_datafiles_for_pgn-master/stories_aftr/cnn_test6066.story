Sanaa, Yemen (CNN) -- Yemen formed a new unity government, the latest step in the implementing of the pact leading to the controversial president's departure from office, the state news agency said on Wednesday

Saleh stepped down after he agreed to the plan, which calls for transferring power in exchange for immunity from prosecution. It allows Saleh to retain the title of president for three months, until elections are held, but it required him to hand over executive powers to Hadi.

Yemen has been greatly affected by the ferment across the Arab world this year. The government had been engulfed by nationwide protests against his regime and fighting between security forces and his foes. An ally in the Western fight against terror groups, the government has been battling an al Qaeda affiliate.

"The government only represents itself and not the Yemeni people," he said. "It will fail and the youth will continue until a complete revolution is seen in Yemen."

Another protester, Salem al-Shuaib, urged citizens to reject any deal that gives Saleh immunity.

"No government or agreement can save the ruling family from the crimes they committed," said al-Shuaib

On Sunday, Hadi announced the formation of a military council of 14 members whose duties will be to stabilize the country and reform the military, a senior official in the vice president's office told CNN. They are evenly divided between the ruling party and the opposition, with each side receiving seven seats in the council.

Tareq Shami, the media officer of the ruling General People Congress party, told CNN that all sides are optimistic that this council will help in solving the security situation in the country.

"This is a good step and we support it. This will help in getting the gunmen out of the streets in Yemen and make the country safer," said Shami.

But heavy clashes raged in northern Sanaa between government forces and opposition fighters loyal to the Ahmar clan in Hasaba district.

Eyewitnesses told CNN that Republican Guards attacked the residential compounds of the Ahmars for more than six hours Wednesday morning and that resulted in clashes.

Saleh became the fourth leader to leave office as a result of the Arab Spring unrest that has roiled much of the Middle East and North Africa this year. The others have been Egyptian President Hosni Mubarak, Libyan leader Moammar Gadhafi, and Tunisian President Zine El Abidine Ben Ali.

The new Minister of Human Rights Hooria Mashhour said there's a lot of work to be done to heal and stabilize the country.

"Our youth are still in the square," she said. "We told them this is the political track and we will achieve all our goals."

Hakim Almasmari is reporting from Sanaa, Yemen. Mohammed Jamjoom is reporting from Abu Dhabi, United Arab Emirates

@highlight

Fighting erupts in the capital

@highlight

The foreign minister keeps his post

@highlight

Many protesters dislike the GCC deal

@highlight

ICRC is upset about violence in Taiz

