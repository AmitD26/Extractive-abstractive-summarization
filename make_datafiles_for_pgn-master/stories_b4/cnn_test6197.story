(CNN) -- And here we were expecting a slice of key lime pie.

Google has surprised the tech world by announcing that the next version of Android, its mobile operating system, will be named KitKat -- in honor of the candy bar developers munched on while they were creating it.

"We couldn't imagine a better name for our Android K release than the tasty chocolate that's been a favorite among the team since the early days of Android," said Marc Vanlerberghe, Google's marketing director for Android.

The name keeps with a Google tradition, established in 2009, of naming versions of the industry-leading system after sweet treats. But it's the first time one of the nicknames has been a trademarked product and, as such, KitKat maker Nestle was needed to sign on.

The Swiss food and drink maker did -- and in a big way.

More than 50 million KitKat bars, specially branded with Google's green Android robot on their packaging, will be released, giving customers a chance to win prizes that include a Nexus 7 tablet and credits to the Google Play store. A small number of robot-shaped KitKats will also be shipped as surprises for customers.

The company also got in on the act with its KitKat website, which has been overhauled to look like the site of a tech company rolling out a sleek new piece of electronics. That includes an earnest promotional video that could easily be read as a swipe at Apple, Google's chief mobile rival.

"Every corner, every edge, every finger of every bar has been carefully considered and crafted to create a beautifully immersive and multisensory experience," Chris Caitlin, Kit Kat's "chief breaks officer" says earnestly over a swelling orchestral arrangement not unlike the ones Apple uses to build excitement for new products.

If there's any remaining doubt, the slogan "There's a KitKat for that" appears briefly on a tablet screen in the video.

John Lagerling, director of Android global partnerships, told the BBC that the Nestle deal is "not a money-changing-hands kind of deal," but was dreamed up by developers who kept KitKats, along with other snacks, in their break room while coding.

He said the Android team didn't even know which company owned KitKat and that he cold-called the switchboard of Nestle's advertising agency in November to float the idea. The next day he was on a conference call, and the deal was sealed 24 hours later.

To maintain the element of surprise -- an increasingly tough ask for big tech companies whose every move is scrutinized -- the Android team continued, even internally, calling the upcoming system "Key Lime Pie," which had been the presumed name for months.

Android has been developed by the company's engineers under dessert names ever since the release of Android Cupcake in 2009.

The other iterations have been named Donut, Eclair, Froyo, Gingerbread, Honeycomb, Ice Cream Sandwich and Jellybean.

Google is not the only tech company to name its products along a consistent theme. But Apple appears to have recently abandoned a similar practice with its Mac operating system -- OS X.

In a departure, Apple's next Mac operating system will not be named after a cat. Instead, the 10th iteration of OS X will be called Mavericks, named for a popular surfing spot in Northern California. Previous version names have included Mountain Lion, Snow Leopard, Tiger, Lion and Cheetah.

A joint statement from Google and Nestle did not give a release date for Android KitKat, although some observers expect it to be launched this fall.

@highlight

New version of Android mobile operating system will be named KitKat

@highlight

Surprise announcement is consistent with Google's theme of sweet treats

@highlight

Older Android versions include Eclair, Froyo, Gingerbread, Jellybean

@highlight

Deal with Nestle reportedly was struck in 24 hours
